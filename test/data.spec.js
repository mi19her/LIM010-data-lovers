global.window = global;
global.assert = require('chai').assert;
require('../src/data');
require('./data.spec.js');
const input = {
  "PER": {
    "indicators": [
      {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": "",
          "2003": "",
          "2004": "",
          "2005": 11.8,
          "2006": 11.8,
          "2007": 11.8,
          "2008": 11.8,
          "2009": 11,
          "2010": 11,
          "2011": 11,
          "2012": 11,
          "2013": 11,
          "2014": 11,
          "2015": 11,
          "2016": 11,
          "2017": 11
        },
        "countryName": "Perú",
        "countryCode": "PER",
        "indicatorName": "Impuestos laborales y contribuciones (% de ganancias comerciales)",
        "indicatorCode": "IC.TAX.LABR.CP.ZS"
      },
      {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": "",
          "2003": 100.5,
          "2004": 100.5,
          "2005": 104.5,
          "2006": 74.5,
          "2007": 74.5,
          "2008": 67,
          "2009": 41,
          "2010": 27.5,
          "2011": 26.5,
          "2012": 26.5,
          "2013": 26.5,
          "2014": 26.5,
          "2015": 26.5,
          "2016": 26.5,
          "2017": 26.5
        },
        "countryName": "Perú",
        "countryCode": "PER",
        "indicatorName": "Tiempo necesario para iniciar un negocio, mujeres (días)",
        "indicatorCode": "IC.REG.DURS.FE"
      },
      {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": "",
          "2003": "",
          "2004": "",
          "2005": "",
          "2006": 32.8,
          "2007": "",
          "2008": "",
          "2009": "",
          "2010": 28.7,
          "2011": "",
          "2012": "",
          "2013": "",
          "2014": "",
          "2015": "",
          "2016": "",
          "2017": 56.6
        },
        "countryName": "Perú",
        "countryCode": "PER",
        "indicatorName": "Empresas con participación de mujeres en la propiedad (% de empresas)",
        "indicatorCode": "IC.FRM.FEMO.ZS"
      },
      {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": "",
          "2003": "",
          "2004": "",
          "2005": "",
          "2006": "",
          "2007": "",
          "2008": "",
          "2009": "",
          "2010": 14.1,
          "2011": "",
          "2012": "",
          "2013": "",
          "2014": "",
          "2015": "",
          "2016": "",
          "2017": 19.9
        },
        "countryName": "Perú",
        "countryCode": "PER",
        "indicatorName": "Porcentaje de empresas con manager mujer (promedio entre empresas que reportan)",
        "indicatorCode": "IC.FRM.FEMM.ZS"
      },
      {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": "",
          "2003": "",
          "2004": "",
          "2005": "",
          "2006": 60.9,
          "2007": "",
          "2008": "",
          "2009": "",
          "2010": 49.9,
          "2011": "",
          "2012": "",
          "2013": "",
          "2014": "",
          "2015": "",
          "2016": "",
          "2017": 66.5
        },
        "countryName": "Perú",
        "countryCode": "PER",
        "indicatorName": "Empresas que usan bancos para financiar el capital de trabajo (% de empresas)",
        "indicatorCode": "IC.FRM.BKWC.ZS"
      },
       {
        "data": {
          "1960": "",
          "1961": "",
          "1962": "",
          "1963": "",
          "1964": "",
          "1965": "",
          "1966": "",
          "1967": "",
          "1968": "",
          "1969": "",
          "1970": "",
          "1971": "",
          "1972": "",
          "1973": "",
          "1974": "",
          "1975": "",
          "1976": "",
          "1977": "",
          "1978": "",
          "1979": "",
          "1980": "",
          "1981": "",
          "1982": "",
          "1983": "",
          "1984": "",
          "1985": "",
          "1986": "",
          "1987": "",
          "1988": "",
          "1989": "",
          "1990": "",
          "1991": "",
          "1992": "",
          "1993": "",
          "1994": "",
          "1995": "",
          "1996": "",
          "1997": "",
          "1998": "",
          "1999": "",
          "2000": "",
          "2001": "",
          "2002": 49.3188018798828,
          "2003": 48.976001739502,
          "2004": 46.7971000671387,
          "2005": 45.8386001586914,
          "2006": 47.0979995727539,
          "2007": 49.2575988769531,
          "2008": 47.4945983886719,
          "2009": 46.7224006652832,
          "2010": 49.2262001037598,
          "2011": 47.2644004821777,
          "2012": 46.2172012329102,
          "2013": 45.3357009887695,
          "2014": 42.9611015319824,
          "2015": 43.3527984619141,
          "2016": 42.3246002197266,
          "2017": 43.3814010620117
        },
        "countryName": "Perú",
        "countryCode": "PER",
        "indicatorName": "Relación entre empleo y población, entre 15 y 24 años, mujeres (%) (estimación nacional)",
        "indicatorCode": "SL.EMP.1524.SP.FE.NE.ZS"
      }
    ],
    "dataSource": "Indicadores del desarrollo mundial",
    "lastUpdated": "2018-11-14"
  }
};
const input1={1960: 5,1966:10,1967:13,1970:6,1973:3};
const input2= [1,2,3,4,5,6];
const output ='Perú';
const output1 = ['Perú - Impuestos laborales y contribuciones (% de ganancias comerciales)','Perú - Tiempo necesario para iniciar un negocio, mujeres (días)',
                'Perú - Empresas con participación de mujeres en la propiedad (% de empresas)','Perú - Porcentaje de empresas con manager mujer (promedio entre empresas que reportan)',
                'Perú - Empresas que usan bancos para financiar el capital de trabajo (% de empresas)'];
const output2 = [
  {"1960": "",
"1961": "",
"1962": "",
"1963": "",
"1964": "",
"1965": "",
"1966": "",
"1967": "",
"1968": "",
"1969": "",
"1970": "",
"1971": "",
"1972": "",
"1973": "",
"1974": "",
"1975": "",
"1976": "",
"1977": "",
"1978": "",
"1979": "",
"1980": "",
"1981": "",
"1982": "",
"1983": "",
"1984": "",
"1985": "",
"1986": "",
"1987": "",
"1988": "",
"1989": "",
"1990": "",
"1991": "",
"1992": "",
"1993": "",
"1994": "",
"1995": "",
"1996": "",
"1997": "",
"1998": "",
"1999": "",
"2000": "",
"2001": "",
"2002": "",
"2003": "",
"2004": "",
"2005": 11.8,
"2006": 11.8,
"2007": 11.8,
"2008": 11.8,
"2009": 11,
"2010": 11,
"2011": 11,
"2012": 11,
"2013": 11,
"2014": 11,
"2015": 11,
"2016": 11,
"2017": 11}, {"1960": "",
"1961": "",
"1962": "",
"1963": "",
"1964": "",
"1965": "",
"1966": "",
"1967": "",
"1968": "",
"1969": "",
"1970": "",
"1971": "",
"1972": "",
"1973": "",
"1974": "",
"1975": "",
"1976": "",
"1977": "",
"1978": "",
"1979": "",
"1980": "",
"1981": "",
"1982": "",
"1983": "",
"1984": "",
"1985": "",
"1986": "",
"1987": "",
"1988": "",
"1989": "",
"1990": "",
"1991": "",
"1992": "",
"1993": "",
"1994": "",
"1995": "",
"1996": "",
"1997": "",
"1998": "",
"1999": "",
"2000": "",
"2001": "",
"2002": "",
"2003": 100.5,
"2004": 100.5,
"2005": 104.5,
"2006": 74.5,
"2007": 74.5,
"2008": 67,
"2009": 41,
"2010": 27.5,
"2011": 26.5,
"2012": 26.5,
"2013": 26.5,
"2014": 26.5,
"2015": 26.5,
"2016": 26.5,
"2017": 26.5}, {"1960": "",
"1961": "",
"1962": "",
"1963": "",
"1964": "",
"1965": "",
"1966": "",
"1967": "",
"1968": "",
"1969": "",
"1970": "",
"1971": "",
"1972": "",
"1973": "",
"1974": "",
"1975": "",
"1976": "",
"1977": "",
"1978": "",
"1979": "",
"1980": "",
"1981": "",
"1982": "",
"1983": "",
"1984": "",
"1985": "",
"1986": "",
"1987": "",
"1988": "",
"1989": "",
"1990": "",
"1991": "",
"1992": "",
"1993": "",
"1994": "",
"1995": "",
"1996": "",
"1997": "",
"1998": "",
"1999": "",
"2000": "",
"2001": "",
"2002": "",
"2003": "",
"2004": "",
"2005": "",
"2006": 32.8,
"2007": "",
"2008": "",
"2009": "",
"2010": 28.7,
"2011": "",
"2012": "",
"2013": "",
"2014": "",
"2015": "",
"2016": "",
"2017": 56.6}, {"1960": "",
"1961": "",
"1962": "",
"1963": "",
"1964": "",
"1965": "",
"1966": "",
"1967": "",
"1968": "",
"1969": "",
"1970": "",
"1971": "",
"1972": "",
"1973": "",
"1974": "",
"1975": "",
"1976": "",
"1977": "",
"1978": "",
"1979": "",
"1980": "",
"1981": "",
"1982": "",
"1983": "",
"1984": "",
"1985": "",
"1986": "",
"1987": "",
"1988": "",
"1989": "",
"1990": "",
"1991": "",
"1992": "",
"1993": "",
"1994": "",
"1995": "",
"1996": "",
"1997": "",
"1998": "",
"1999": "",
"2000": "",
"2001": "",
"2002": "",
"2003": "",
"2004": "",
"2005": "",
"2006": "",
"2007": "",
"2008": "",
"2009": "",
"2010": 14.1,
"2011": "",
"2012": "",
"2013": "",
"2014": "",
"2015": "",
"2016": "",
"2017": 19.9}, {"1960": "",
"1961": "",
"1962": "",
"1963": "",
"1964": "",
"1965": "",
"1966": "",
"1967": "",
"1968": "",
"1969": "",
"1970": "",
"1971": "",
"1972": "",
"1973": "",
"1974": "",
"1975": "",
"1976": "",
"1977": "",
"1978": "",
"1979": "",
"1980": "",
"1981": "",
"1982": "",
"1983": "",
"1984": "",
"1985": "",
"1986": "",
"1987": "",
"1988": "",
"1989": "",
"1990": "",
"1991": "",
"1992": "",
"1993": "",
"1994": "",
"1995": "",
"1996": "",
"1997": "",
"1998": "",
"1999": "",
"2000": "",
"2001": "",
"2002": "",
"2003": "",
"2004": "",
"2005": "",
"2006": 60.9,
"2007": "",
"2008": "",
"2009": "",
"2010": 49.9,
"2011": "",
"2012": "",
"2013": "",
"2014": "",
"2015": "",
"2016": "",
"2017": 66.5}];
const output3 = 'Impuestos laborales y contribuciones (% de ganancias comerciales)';
const output4 = [["1973", 3],["1960", 5],["1970", 6],["1966", 10],["1967", 13]];
const output5 = 3.5;
const output6 = [["1960", 5], ["1966", 10], ["1967", 13]];

describe('tituloPorPais', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.tituloPorPais).toBe('function');
  });
  it('debería retornar un string que representa el pais', () => {
    expect(typeof worldbank.tituloPorPais(input, 'PER')).toBe('string');
  });
  it('deberia retornar el string Perú para cuando le pase la data y el parametro PER', ()=>{
    expect(worldbank.tituloPorPais(input, 'PER')).toEqual(output);
  });
});
describe('indicadoresPorSector', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.indicadoresPorSector).toBe('function');
  });
  it('debería retornar un objeto que representa el todos los indicadores de cada sector', () => {
    expect(typeof worldbank.indicadoresPorSector(input, 'PER','IC')).toBe('object');
  });
  it('deberia retornar un arrays para cuando le pase la data y el parametro de PER y parametro IC', ()=>{
    expect(worldbank.indicadoresPorSector(input, 'PER', 'IC')).toEqual(output1);
  });
});

describe('datosPaisSector', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.datosPaisSector).toBe('function');
  });
  it('debería retornar un objeto que representa el todos los indicadores de cada sector', () => {
    expect(typeof worldbank.datosPaisSector(input, 'PER','IC')).toBe('object');
  });
  it('deberia retornar un arrays para cuando le pase la data y el parametro de PER y parametro IC', ()=>{
    expect(worldbank.datosPaisSector(input, 'PER', 'IC')).toEqual(output2);
  });
});

describe('tituloDeIndicadorporIndice', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.tituloDeIndicadorporIndice).toBe('function');
  });
  it('debería retornar un objeto que representa el todos los indicadores de cada sector', () => {
    expect(typeof worldbank.tituloDeIndicadorporIndice(input, 'PER','IC', 0)).toBe('string');
  });
  it('deberia retornar un arrays para cuando le pase la data y el parametro de PER y parametro IC', ()=>{
    expect(worldbank.tituloDeIndicadorporIndice(input, 'PER', 'IC' , 0)).toEqual(output3);
  });
});

describe('formulaOrdenar', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.formulaOrdenar).toBe('function');
  });
  it('debería retornar un objeto que representa el todos los indicadores de cada sector', () => {
    expect(typeof worldbank.formulaOrdenar(input1)).toBe('object');
  });
  it('deberia retornar un arrays para cuando le pase la data y el parametro de PER y parametro IC', ()=>{
    expect(worldbank.formulaOrdenar(input1)).toEqual(output4);
  });
});

describe('formulaPromedio', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.formulaPromedio).toBe('function');
  });
  it('debería retornar un objeto que representa el todos los indicadores de cada sector', () => {
    expect(typeof worldbank.formulaPromedio(input2)).toBe('number');
  });
  it('deberia retornar un arrays para cuando le pase la data y el parametro de PER y parametro IC', ()=>{
    expect(worldbank.formulaPromedio(input2)).toEqual(output5);
  });
});

describe('selectRangoYear', () => {
  it('debería ser una función', () => {
    expect(typeof worldbank.selectRangoYear).toBe('function');
  });
  it('debería retornar un objeto que representa el todos los indicadores de cada sector', () => {
    expect(typeof worldbank.selectRangoYear(1960,1967,input1)).toBe('object');
  });
  it('deberia retornar un arrays para cuando le pase la data y el parametro de PER y parametro IC', ()=>{
    expect(worldbank.selectRangoYear(1960,1967,input1)).toEqual(output6);
  });
});